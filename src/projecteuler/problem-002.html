<!DOCTYPE html><html><head><title>Project Euler: Problem 2</title>
<style>*{font-family:Verdana;}#output{font-size:20px}</style></head><body>

<a href="/test/">Home</a>
<h1 id="title"></h1>
<p><a href="https://projecteuler.net/problem=2">Source</a></p>
<h2>Even Fibonacci numbers</h2>
<p>Each new term in the Fibonacci sequence is generated by adding the previous two terms. By starting with 1 and 2, the first 10 terms will be:</p>

<p align="center">1, 2, 3, 5, 8, 13, 21, 34, 55, 89, ...</p>

<p>By considering the terms in the Fibonacci sequence whose values do not exceed four million, find the sum of the even-valued terms.</p>

<p><button onclick="run()">Run</button></p>

<p id="output"></p>

<script>
document.getElementById("title").innerHTML = document.getElementsByTagName("title")[0].innerHTML;
const sequence = [1, 2];
const MAX_VALUE = 4000000;

function run() {
  let term = 0;
  let attempts = 0;
  let sum = 2;
  while (term < MAX_VALUE) {
    term = 0;
    const size = sequence.length;
    for (let i = size - 2; i < size; i++) {
      term += sequence[i];
    }
    sequence.push(term);
    if (term % 2 === 0 && term < MAX_VALUE) {
      sum += term;
      console.log("adding term=" + term + ", sum=" + sum);
    }
  }
  document.getElementById("output").innerHTML = sum;
}
</script>
</body></html>